---
title: "Logboek_Janine"
output: html_document
date: "06-05-20 t/m 04-06-2024"
lang: nl
---

# Logboek kiemgroenten

## Introductie

# To DO
- Tekst boven plotjes aanvullen
- Protocollen toevoegen

# Onderzoeksopzet
### Plan van aanpak

In dit plan van aanpak wordt globaal beschreven hoe dit experiment wordt aangepakt, er wordt verwezen naar protocollen die als bijlage bijgevoegd zijn. Alle documenten die benodigd zijn om dingen in te voeren zijn ook bijgevoegd. <br>

### Experiment 

In dit experiment wordt de invloed van verschillende zoutconcentraties op de groei van tuinkers en alfalfa onderzocht. Er is een controlegroep met 0% zout, een groep met 0.03% zout, 0.06% zout en 0.09% zout, er wordt gedemineraliseerd water gebruikt om de zoutconcentratie zo precies mogelijk te kunnen toevoegen. Alle groepen worden in duplo uitgevoerd. De plantjes worden allemaal op 1 locaties gezaaid en geoogst. <br>


### Onderzoeksvraag  

Wat is de invloed van verschillende zoutconcentraties op de groei van tuinkers en alfalfa? <br>

### Nulhypothese 

Er is geen invloed van verschillende zoutconcentraties op de groei van tuinkers en alfalfa. <br>

### Hypothese 

Een oplopende zoutconcentratie hoger dan 0.03% zal een negatieve invloed hebben op de groei van tuinkers en alfalfa. <br>

# Protocollen

Verwijzing naar protocollen... komt nog

# Theoretische achtergrond 
De concentratie van opgeloste stoffen in water, welke in de omgeving van een plant is, kan een grote invloed hebben op de plant en de groei van deze plant. In een hypotonische omgeving, de omgeving heeft dan een lagere concentratie opgeloste stoffen, zal het water van de omgeving in de cel van de plant gaan. De cel zal onder meer druk komen te staan, en opzwellen, wanneer deze situatie voor langere tijd niet veranderd zal de cel knappen. In een hypertonische situatie zal water de cellen van de plant verlaten, en zal de plant dus uitdrogen en dood gaan. (Osmosis in Plant Cells - Transport Across Membranes - National 5 Biology Revision - BBC Bitesize, 2023) <br>

Er zijn onderzoeken gedaan naar de invloed van zoutconcentraties op planten, echter is er niks te vinden over de invloed op kiemgroenten.  
Als we kijken naar onderzoeken die al gedaan zijn bij dit onderwerp zien we de volgende concentraties: <br>

- 0%
- 2,922%
- 5,844%
- 8,766%  

Uit dit onderzoek is gebleken dat er wel degelijk een significante verandering is op de groei van plantjes, tussen de verschillende zoutconcentraties. Hoe hoger de concentratie hoe meer er een negatieve impact is op de groei van de planten. (Habibi, Armin & Abdoli, Majid. (2013). Influence of salicylic acid pre-treatment on germination, vigor and growth parameters of garden cress (Lepidium sativum) seedlings under water potential loss at salinity stress.) 

Zo zullen we waarschijnlijk zien dat de planten met 0% zout mogelijk wel gaan groeien, maar niet veel. De 0.01% zout oplossing zal waarschijnlijk het beste groeien want die zout concentratie komt het meest overeen met de gemiddelde zoutconcentratie van planten. 

# Bronnen

Habibi, Armin & Abdoli, Majid. (2013). Influence of salicylic acid pre-treatment on germination, vigor and growth parameters of garden cress (Lepidium sativum) seedlings under water potential loss at salinity stress. 

Osmosis in plant cells - Transport across membranes - National 5 Biology Revision - BBC Bitesize. (2023, 17 februari). BBC Bitesize. https://www.bbc.co.uk/bitesize/guides/zqdhjty/revision/6 


# Logdata  

### 23-04-2024
Tijdens statistiek het markdown document (les 01) van Emile volledig ingevuld om bekend te worden met de statistiekverwerking in R.

### 24-04-2024
Begonnen met protocollen opstellen en uittypen. 

### 25-04-2024
Statistiek (les 02) volledig ingevuld om bekend te worden met de statistiekverwerking in R.

### 26-04-2024
De protocollen afgemaakt en laten controleren door Ronald.

### 06-05-2024
Statistiek (les 03) volledig ingevuld om bekend te worden met de statistiekverwerking in R.

### 07-05-2024
Data set is gemaakt door Ramon, behalve de data van de kleur van de blaadjes die heb ik gemaakt op 21 mei. Ik heb de dataset overgenomen om mee te kunnen experimenteren. 

### 08-05-2024
Statistiek (les 04) volledig ingevuld om bekend te worden met de statistiekverwerking in R.

### 13-05-204

Onderwerp voor de journalclub presentatie wordt de lollipop graph. Er wordt deze week een presentatie gemaakt en er wordt een markdown document gemaakt waarin verschillende lollipop graph's uitgebeeld staan als voorbeeld.

### 15-05-2024

Begonnen met onderzoek doen voor de journalclub presentatie. Begonnen met een powerpoint presentatie en begonnen met het visualiseren van verschillende lollipop charts met code in R. Zie hiervoor lollipop_chart.Rmd, staat niet in deze repository.  
Presentatie en code zo goed als afgerond.  

### 16-05-2024

Begonnen met verwerken van de testdata in het logboek_Janine. Te vinden onder subtitel, verwerking 16 mei.

Nieuwe zoutoplossingen gemaakt in het lab.  

- 0.33 gram voor de 0.03%  
- 0.62 gram voor de 0.06%  
- 0.90 gram voor de 0.09%  
- Gebruikte zout: Sodium chloride, technical. Magazijnnummer Hanze AK4.2-01  

### 17-05-2024  

Verder met verwerken van testdata in logboek_janine. Te vinden onder subtitel, verwerking 17 mei.  
Half uur gezeten met emile voor extra statistiek uitleg

### 21-05-2024

Dataset aangemaakt voor kleur van blaadjes en hiermee geëxperimenteerd. Te vinden onder subtitel, verwerking 21-05-2024.
Logboek aangevuld met theorie, plan van aanpak en protocollen.

### 22-05-2024

Begonnen met onderzoek doen naar de two sample chi-square test om te kijken hoe we deze goed kunnen toepassen voor de verwerking van de kleur blaadjes.

# Verwerking

## Verwerking 7 mei
Om alvast te kijken hoe we met de data om kunnen gaan, ga ik een basic dataframe maken van 1 van de planten.
In deze dataframe komt alleen maar de groei van de plant en de oplossing zout te staan.
Met deze data worden verschillende data-outputs gemaakt.Het test dataframe is opgesteld door Ramon, tot en met n_blaadjes, het laatste deel door mij.


```{r echo=FALSE}
library(tidyverse)
library(ggplot2)
library(ggridges)
library(hrbrthemes)

set.seed(0)
kleur_array <- c("wit", "lichtgroen", "geel", "groen", "donkergroen", "bruin")
cress_data <- data.frame(species = rep(c("cress", "alfalfa"), each=400),
                       N = 1:200,
                       batch_n=rep(c(1, 2), each=200),
                       oplossing=rep(c(0,1,2,3), each=50),
                       cm_groei=c(rnorm(n=50, 5, 1.5),rnorm(n=50, 8,1),rnorm(n=50, 3, 2),rnorm(n=50, 1,0.5), #cress batch 1
                                  rnorm(n=50, 5.5, 1.6),rnorm(n=50, 7.6,1.2),rnorm(n=50, 2.8, 2.1),rnorm(n=50, 1.2,0.6), #cress batch 2
                                  rnorm(n=50, 3, 1),rnorm(n=50, 4,0.8),rnorm(n=50, 2, 0.5),rnorm(n=50, 1,0.2),#alfalfa batch 1
                                  rnorm(n=50, 3.2, 1.1),rnorm(n=50, 3.8,1.1),rnorm(n=50, 2.1, 0.4),rnorm(n=50, 1.2,0.1)), #alfalfa batch 2

                       n_ontkieming=c(rbinom(50, 1, 0.6), rbinom(50, 1, 0.8), rbinom(50, 1, 0.4), rbinom(50, 1, 0.2),
                                      rbinom(50, 1, 0.5), rbinom(50, 1, 0.7), rbinom(50, 1, 0.5), rbinom(50, 1, 0.25),
                                      rbinom(50, 1, 0.7), rbinom(50, 1, 0.9), rbinom(50, 1, 0.3), rbinom(50, 1, 0.3),
                                      rbinom(50, 1, 0.4), rbinom(50, 1, 0.8), rbinom(50, 1, 0.6), rbinom(50, 1, 0.35)),
                       
                       n_blaadjes=c(rnorm(n=50, 3, 1),rnorm(n=50, 4, 1),rnorm(n=50, 2, 1),rnorm(n=50, 1, 0.5), # C batch 1
                                    rnorm(n=50, 3, 1),rnorm(n=50, 4, 1),rnorm(n=50, 2, 1),rnorm(n=50, 1, 0.5), # C batch 2
                                    rnorm(n=50, 3, 1),rnorm(n=50, 4, 1),rnorm(n=50, 2, 1),rnorm(n=50, 1, 0.5), # A batch 1
                                    rnorm(n=50, 3, 1),rnorm(n=50, 4, 1),rnorm(n=50, 2, 1),rnorm(n=50, 1, 0.5)), # A batch 2 
                       
                       kleur_blaadjes=rep(c(sample(kleur_array, 800, replace = TRUE)))
                       ) 
```


## Verwerking 16 mei
Boxplot met oplossing op de x as en cm groei op de y as.Gemaakt door een ingebouwde functie van R. 
Deze boxplot klopt niet daarom wordt er later gewerkt met de library ggplot2.
```{r}
dataset_alfalfa <- cress_data %>%
    filter(species == "alfalfa")
#Door middel van filter kan er een specifieke groep binnen de data geselecteerd worden
boxplot(cm_groei ~ batch_n+oplossing, data=dataset_alfalfa)
```

Welch Two sample T-test. Uitgevoerd voor oefening in R, alleen toepasbaar in de duplo's in ons onderzoek.
```{r}
dataset_cress <- cress_data %>%
    filter(species == "cress" & oplossing == 0:1)
t.test(cm_groei ~ oplossing, data=dataset_cress)

```

Histogram van groei in cm van de tuinkers ter oefening in R. Deze histogram heeft de tuinkers op de x as en groei in cm op de y as. 
Deze histogram klopt niet helemaal, maar zou wel bruikbaar kunnen zijn voor onze paper.
```{r}
data <- cress_data %>%
    filter(species == "cress")

ggplot(data, aes(x=cm_groei)) +
    geom_histogram( binwidth=0.5, fill="black", color="red") +
    labs(title = "Groei van tuinkers") +
    xlab("Tuinkers") +
    ylab("Groei in cm")
    
```
## Verwerking 17 mei  

In deze barplot staan voor elke soort, batch en oplossing het aantal getelde (gevisualiseerde) data. 
Deze barplot gaan we zeker gebruiken voor onze paper.
```{r}
cress_data %>%
    aggregate(n_blaadjes ~ species + batch_n + oplossing, FUN = sum) %>%
    #fct_cross maakt nieuwe kolom en combineert hetgene wat erin staat
    mutate(species_batch = fct_cross(species, as.character(batch_n), sep = "_")) %>%
    #Fill werkt hier als een split functie voor de batches
    ggplot(aes(x=oplossing,y=n_blaadjes, fill=species_batch)) +
    
    labs(title="Barplot sum van blaadjes", 
         subtitle = "Voor 0-3% zout", 
         y="Aantal blaadjes", 
         x="Oplossing zout") +
    
    geom_bar(position = "dodge", stat = "sum",
             color="black", size=0.5) +
    
    #De scalefillbrewer functie is een thema functie 
    scale_fill_brewer(palette = "Dark2") +
    theme_minimal() 


```

Scatterplot van oplossing op de x as tegenover cm_groei op de y as. Deze plot is niet leesbaar door teveel datapunten op 1 hoop. 
```{r}
ggplot(cress_data, aes(x=oplossing, y=cm_groei)) + 
    geom_point()

```


Boxplot voor aantal blaadjes per batch per oplossing. Deze boxplot is zeer bruikbaar voor onze paper. 
Er is overzichtelijk te zien voor elke soort en batch de hoeveelheid blaadjes in de verschillende zoutconcentraties.
```{r}
cress_data %>%
    ggplot(aes(x=species, y=n_blaadjes, fill=as.character(batch_n))) +
    
    labs(title="Aantal blaadjes in oplossingen zout",
         subtitle = "Zoutconcentraties 0-3%",
         x="Species",
         y="Aantal blaadjes",
         fill="Batch N") +
    
    geom_boxplot(outlier.colour = "red") +
    scale_fill_brewer(palette = "YlGn") +
    theme_minimal() +
    #De facet_wrap zorgt ervoor met de scales functie dat elk plotje eigen waardes op de y-as heeft naar aanleiding van de data die in het plotje zit
    facet_wrap(~ oplossing, scales = "free")
```

Density plot van de tuinkers met de oplossingen en cm groei. Ik heb dit plotje gemaakt om te oefenen met verschillende grafieken in r.
Dit plotje is bruikbaar, maar niet voor iedereen even duidelijk. 
Nog onduidelijk of deze gebruikt gaat worden in de paper.

```{r}
cress_data %>%
    ggplot(aes(x=cm_groei, y=species, fill=species)) +
    geom_density_ridges(scale=0.9)
    
```

## Verwerking 21 mei
Histogram voor kleur blaadjes per batch, soort en oplossing
```{r}
colour_df <- cress_data %>%
    select(species, batch_n, oplossing)

```


## Verwerking 22 mei

```{r}
x <- cress_data %>%
    mutate(species_oplossing = fct_cross(species, as.character(oplossing), sep = "_"))
table(x$species_oplossing, x$kleur_blaadjes)
```




